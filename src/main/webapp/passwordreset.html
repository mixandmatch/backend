<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
       "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>passwordreset</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<script type="text/javascript">
function testPW () {
  var pw1 = document.formular.newPassword.value;
  var pw2 = document.formular.pw2.value;
  if (pw1 !== pw2) {
    alert("Passwörter nicht identisch!");
    return false;
  } else {
    return true;
  }
}
function getURLParameter(name) {
  return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.search)||[,""])[1].replace(/\+/g, '%20'))||null
}
window.onload = function () {
	var token = getURLParameter('token');
	document.getElementById('token').setAttribute('value', token);
}
</script>
</head>
<body>
	<p>Bitte gib dein neues Passwort ein.</p>
	<form action="./rest/user/setNewPassword" method="post" name="formular" onsubmit="return testPW()" enctype="multipart/form-data">
		<input type="hidden" id="token" value="" name="token"> 
		<label for="pw1">Neues Passwort: </label>
		<input name="newPassword" type="password" /> 
		<br /> 
		<label for="pw2">Passwort wiederholen: </label>
		<input name="pw2" type="password" /> 
		<br />
		<br /> 
		<input type="submit" value="Passwort setzen" />
	</form>
</body>
</html>